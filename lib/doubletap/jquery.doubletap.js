// https://github.com/technoweenie/jquery.doubletap
(function(a){var b={swipeTolerance:40},c=function(b,c){this.target=a(b),this.touch=c,this.startX=this.currentX=c.screenX,this.startY=this.currentY=c.screenY,this.eventType=null};c.options={},c.latestTap=null,c.prototype.move=function(a){this.currentX=a.screenX,this.currentY=a.screenY},c.prototype.process=function(){var a=this.currentX-this.startX,b=this.currentY-this.startY;0==a&&0==b?this.checkForDoubleTap():Math.abs(b)>c.options.swipeTolerance&&Math.abs(b)>Math.abs(a)?(this.eventType=b>0?"swipedown":"swipeup",this.target.trigger("swipe",[this])):Math.abs(a)>c.options.swipeTolerance&&(this.eventType=a>0?"swiperight":"swipeleft",this.target.trigger("swipe",[this])),this.eventType&&this.target.trigger(this.eventType,[this]),this.target.trigger("touch",[this])},c.prototype.checkForDoubleTap=function(){c.latestTap&&400>new Date-c.latestTap&&(this.eventType="doubletap"),this.eventType||(this.eventType="tap"),c.latestTap=new Date};var d=function(d,e){c.options=a.extend(b,e),d.bind("touchstart",this.touchStart),d.bind("touchmove",this.touchMove),d.bind("touchcancel",this.touchCancel),d.bind("touchend",this.touchEnd)};d.prototype.touchStart=function(a){var b=this;d.eachTouch(a,function(a){d.touches[a.identifier]=new c(b,a)})},d.prototype.touchMove=function(a){d.eachTouch(a,function(a){var b=d.touches[a.identifier];b&&b.move(a)})},d.prototype.touchCancel=function(a){d.eachTouch(a,function(a){d.purge(a,!0)})},d.prototype.touchEnd=function(a){d.eachTouch(a,function(a){d.purge(a)})},d.touches={},d.purge=function(a,b){if(!b){var c=d.touches[a.identifier];c&&c.process()}delete d.touches[a.identifier]},d.eachTouch=function(a,b){for(var a=a.originalEvent,c=a.changedTouches.length,d=0;c>d;d++)b(a.changedTouches[d])},a.fn.addSwipeEvents=function(a,b){return!b&&jQuery.isFunction(a)&&(b=a,a=null),new d(this,a),b&&this.bind("touch",b),this}})(jQuery);